export*from"redux";import{freeze as wa,original as Pa}from"immer";import{current as G,isDraft as v,produce as F,isDraftable as Q,setUseStrictIteration as ln}from"immer";import{createSelector as Ia,lruMemoize as va}from"reselect";import{createSelectorCreator as pe,weakMapMemoize as fe}from"reselect";var Ie=(...e)=>{let t=pe(...e),r=Object.assign((...n)=>{let a=t(...n),o=(i,...h)=>a(v(i)?G(i):i,...h);return Object.assign(o,a),o},{withTypes:()=>r});return r},ye=Ie(fe);import{createStore as ve,combineReducers as De,applyMiddleware as Oe,compose as V,isPlainObject as Y,isAction as B}from"redux";var Ne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?V:V.apply(null,arguments)},kn=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}};import{thunk as kt,withExtraArgument as gt}from"redux-thunk";var Z=e=>e&&typeof e.match=="function";function P(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(C(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>B(n)&&n.type===e,r}function he(e){return typeof e=="function"&&"type"in e&&Z(e)}function Ae(e){return B(e)&&Object.keys(e).every(yt)}function yt(e){return["type","payload","error","meta"].indexOf(e)>-1}function ht(e){let t=e?`${e}`.split("/"):[],r=t[t.length-1]||"actionCreator";return`Detected an action creator with type "${e||"unknown"}" being dispatched. 
Make sure you're calling the action creator before dispatching, i.e. \`dispatch(${r}())\` instead of \`dispatch(${r})\`. This is necessary even if the action has no payload.`}function At(e={}){return()=>r=>n=>r(n)}var L=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function Te(e){return Q(e)?F(e,()=>{}):e}function M(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Tt(e){return typeof e!="object"||e==null||Object.isFrozen(e)}function mt(e={}){if(1)return()=>n=>a=>n(a);var t,r}function je(e){let t=typeof e;return e==null||t==="string"||t==="boolean"||t==="number"||Array.isArray(e)||Y(e)}function Fe(e,t="",r=je,n,a=[],o){let i;if(!r(e))return{keyPath:t||"<root>",value:e};if(typeof e!="object"||e===null||o?.has(e))return!1;let h=n!=null?n(e):Object.entries(e),s=a.length>0;for(let[c,y]of h){let A=t?t+"."+c:c;if(!(s&&a.some(f=>f instanceof RegExp?f.test(A):A===f))){if(!r(y))return{keyPath:A,value:y};if(typeof y=="object"&&(i=Fe(y,A,r,n,a,o),i))return i}}return o&&Ve(e)&&o.add(e),!1}function Ve(e){if(!Object.isFrozen(e))return!1;for(let t of Object.values(e))if(!(typeof t!="object"||t===null)&&!Ve(t))return!1;return!0}function St(e={}){return()=>t=>r=>t(r)}function xt(e){return typeof e=="boolean"}var Le=()=>function(t){let{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:o=!0}=t??{},i=new L;return r&&(xt(r)?i.push(kt):i.push(gt(r.extraArgument))),i};var me="RTK_autoBatch",Ct=()=>e=>({payload:e,meta:{[me]:!0}}),_e=e=>t=>{setTimeout(t,e)},Se=(e={type:"raf"})=>t=>(...r)=>{let n=t(...r),a=!0,o=!1,i=!1,h=new Set,s=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_e(10):e.type==="callback"?e.queueNotification:_e(e.timeout),c=()=>{i=!1,o&&(o=!1,h.forEach(y=>y()))};return Object.assign({},n,{subscribe(y){let A=()=>a&&y(),S=n.subscribe(A);return h.add(y),()=>{S(),h.delete(y)}},dispatch(y){try{return a=!y?.meta?.[me],o=!a,o&&(i||(i=!0,s(c))),n.dispatch(y)}finally{a=!0}}})};var Ue=e=>function(r){let{autoBatch:n=!0}=r??{},a=new L(e);return n&&a.push(Se(typeof n=="object"?n:void 0)),a};function Et(e){let t=Le(),{reducer:r=void 0,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:o=!0,preloadedState:i=void 0,enhancers:h=void 0}=e||{},s;if(typeof r=="function")s=r;else if(Y(r))s=De(r);else throw new Error(C(1));let c;typeof n=="function"?c=n(t):c=t();let y=V;a&&(y=Ne({trace:!1,...typeof a=="object"&&a}));let A=Oe(...c),S=Ue(A),f=typeof h=="function"?h(S):S(),d=y(...f);return ve(s,i,d)}function ee(e){let t={},r=[],n,a={addCase(o,i){let h=typeof o=="string"?o:o.type;if(!h)throw new Error(C(28));if(h in t)throw new Error(C(29));return t[h]=i,a},addAsyncThunk(o,i){return i.pending&&(t[o.pending.type]=i.pending),i.rejected&&(t[o.rejected.type]=i.rejected),i.fulfilled&&(t[o.fulfilled.type]=i.fulfilled),i.settled&&r.push({matcher:o.settled,reducer:i.settled}),a},addMatcher(o,i){return r.push({matcher:o,reducer:i}),a},addDefaultCase(o){return n=o,a}};return e(a),[t,r,n]}function Rt(e){return typeof e=="function"}function ke(e,t){let[r,n,a]=ee(t),o;if(Rt(e))o=()=>Te(e());else{let h=Te(e);o=()=>h}function i(h=o(),s){let c=[r[s.type],...n.filter(({matcher:y})=>y(s)).map(({reducer:y})=>y)];return c.filter(y=>!!y).length===0&&(c=[a]),c.reduce((y,A)=>{if(A)if(v(y)){let f=A(y,s);return f===void 0?y:f}else{if(Q(y))return F(y,S=>A(S,s));{let S=A(y,s);if(S===void 0){if(y===null)return y;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return y},h)}return i.getInitialState=o,i}var We=(e,t)=>Z(e)?e.match(t):e(t);function _(...e){return t=>e.some(r=>We(r,t))}function K(...e){return t=>e.every(r=>We(r,t))}function ne(e,t){if(!e||!e.meta)return!1;let r=typeof e.meta.requestId=="string",n=t.indexOf(e.meta.requestStatus)>-1;return r&&n}function H(e){return typeof e[0]=="function"&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function ze(...e){return e.length===0?t=>ne(t,["pending"]):H(e)?_(...e.map(t=>t.pending)):ze()(e[0])}function te(...e){return e.length===0?t=>ne(t,["rejected"]):H(e)?_(...e.map(t=>t.rejected)):te()(e[0])}function Ge(...e){let t=r=>r&&r.meta&&r.meta.rejectedWithValue;return e.length===0?K(te(...e),t):H(e)?K(te(...e),t):Ge()(e[0])}function Be(...e){return e.length===0?t=>ne(t,["fulfilled"]):H(e)?_(...e.map(t=>t.fulfilled)):Be()(e[0])}function Ke(...e){return e.length===0?t=>ne(t,["pending","fulfilled","rejected"]):H(e)?_(...e.flatMap(t=>[t.pending,t.rejected,t.fulfilled])):Ke()(e[0])}var wt="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",D=(e=21)=>{let t="",r=e;for(;r--;)t+=wt[Math.random()*64|0];return t};var Pt=["name","message","stack","code"],q=class{constructor(t,r){this.payload=t;this.meta=r}_type},re=class{constructor(t,r){this.payload=t;this.meta=r}_type},qe=e=>{if(typeof e=="object"&&e!==null){let t={};for(let r of Pt)typeof e[r]=="string"&&(t[r]=e[r]);return t}return{message:String(e)}},He="External signal was aborted",ge=(()=>{function e(t,r,n){let a=P(t+"/fulfilled",(s,c,y,A)=>({payload:s,meta:{...A||{},arg:y,requestId:c,requestStatus:"fulfilled"}})),o=P(t+"/pending",(s,c,y)=>({payload:void 0,meta:{...y||{},arg:c,requestId:s,requestStatus:"pending"}})),i=P(t+"/rejected",(s,c,y,A,S)=>({payload:A,error:(n&&n.serializeError||qe)(s||"Rejected"),meta:{...S||{},arg:y,requestId:c,rejectedWithValue:!!A,requestStatus:"rejected",aborted:s?.name==="AbortError",condition:s?.name==="ConditionError"}}));function h(s,{signal:c}={}){return(y,A,S)=>{let f=n?.idGenerator?n.idGenerator(s):D(),d=new AbortController,l,u;function p(T){u=T,d.abort()}c&&(c.aborted?p(He):c.addEventListener("abort",()=>p(He),{once:!0}));let g=async function(){let T;try{let k=n?.condition?.(s,{getState:A,extra:S});if(Mt(k)&&(k=await k),k===!1||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};let R=new Promise((x,E)=>{l=()=>{E({name:"AbortError",message:u||"Aborted"})},d.signal.addEventListener("abort",l,{once:!0})});y(o(f,s,n?.getPendingMeta?.({requestId:f,arg:s},{getState:A,extra:S}))),T=await Promise.race([R,Promise.resolve(r(s,{dispatch:y,getState:A,extra:S,requestId:f,signal:d.signal,abort:p,rejectWithValue:(x,E)=>new q(x,E),fulfillWithValue:(x,E)=>new re(x,E)})).then(x=>{if(x instanceof q)throw x;return x instanceof re?a(x.payload,f,s,x.meta):a(x,f,s)})])}catch(k){T=k instanceof q?i(null,f,s,k.payload,k.meta):i(k,f,s)}finally{l&&d.signal.removeEventListener("abort",l)}return n&&!n.dispatchConditionRejection&&i.match(T)&&T.meta.condition||y(T),T}();return Object.assign(g,{abort:p,requestId:f,arg:s,unwrap(){return g.then($e)}})}}return Object.assign(h,{pending:o,rejected:i,fulfilled:a,settled:_(i,a),typePrefix:t})}return e.withTypes=()=>e,e})();function $e(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Mt(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var Xe=Symbol.for("rtk-slice-createasyncthunk"),bt={[Xe]:ge},Je=(n=>(n.reducer="reducer",n.reducerWithPrepare="reducerWithPrepare",n.asyncThunk="asyncThunk",n))(Je||{});function It(e,t){return`${e}/${t}`}function Qe({creators:e}={}){let t=e?.asyncThunk?.[Xe];return function(n){let{name:a,reducerPath:o=a}=n;if(!a)throw new Error(C(11));let i=(typeof n.reducers=="function"?n.reducers(Ot()):n.reducers)||{},h=Object.keys(i),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(T,m){let k=typeof T=="string"?T:T.type;if(!k)throw new Error(C(12));if(k in s.sliceCaseReducersByType)throw new Error(C(13));return s.sliceCaseReducersByType[k]=m,c},addMatcher(T,m){return s.sliceMatchers.push({matcher:T,reducer:m}),c},exposeAction(T,m){return s.actionCreators[T]=m,c},exposeCaseReducer(T,m){return s.sliceCaseReducersByName[T]=m,c}};h.forEach(T=>{let m=i[T],k={reducerName:T,type:It(a,T),createNotation:typeof n.reducers=="function"};jt(m)?Vt(k,m,c,t):Nt(k,m,c)});function y(){let[T={},m=[],k=void 0]=typeof n.extraReducers=="function"?ee(n.extraReducers):[n.extraReducers],R={...T,...s.sliceCaseReducersByType};return ke(n.initialState,x=>{for(let E in R)x.addCase(E,R[E]);for(let E of s.sliceMatchers)x.addMatcher(E.matcher,E.reducer);for(let E of m)x.addMatcher(E.matcher,E.reducer);k&&x.addDefaultCase(k)})}let A=T=>T,S=new Map,f=new WeakMap,d;function l(T,m){return d||(d=y()),d(T,m)}function u(){return d||(d=y()),d.getInitialState()}function p(T,m=!1){function k(x){let E=x[T];return typeof E>"u"&&m&&(E=M(f,k,u)),E}function R(x=A){let E=M(S,m,()=>new WeakMap);return M(E,x,()=>{let z={};for(let[J,j]of Object.entries(n.selectors??{}))z[J]=vt(j,x,()=>M(f,x,u),m);return z})}return{reducerPath:T,getSelectors:R,get selectors(){return R(k)},selectSlice:k}}let g={name:a,reducer:l,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:u,...p(o),injectInto(T,{reducerPath:m,...k}={}){let R=m??o;return T.inject({reducerPath:R,reducer:l},k),{...g,...p(R,!0)}}};return g}}function vt(e,t,r,n){function a(o,...i){let h=t(o);return typeof h>"u"&&n&&(h=r()),e(h,...i)}return a.unwrapped=e,a}var Dt=Qe();function Ot(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Nt({type:e,reducerName:t,createNotation:r},n,a){let o,i;if("reducer"in n){if(r&&!Ft(n))throw new Error(C(17));o=n.reducer,i=n.prepare}else o=n;a.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,i?P(e,i):P(e))}function jt(e){return e._reducerDefinitionType==="asyncThunk"}function Ft(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Vt({type:e,reducerName:t},r,n,a){if(!a)throw new Error(C(18));let{payloadCreator:o,fulfilled:i,pending:h,rejected:s,settled:c,options:y}=r,A=a(e,o,y);n.exposeAction(t,A),i&&n.addCase(A.fulfilled,i),h&&n.addCase(A.pending,h),s&&n.addCase(A.rejected,s),c&&n.addMatcher(A.settled,c),n.exposeCaseReducer(t,{fulfilled:i||ae,pending:h||ae,rejected:s||ae,settled:c||ae})}function ae(){}function Lt(){return{ids:[],entities:{}}}function Ye(e){function t(r={},n){let a=Object.assign(Lt(),r);return n?e.setAll(a,n):a}return{getInitialState:t}}function Ze(){function e(t,r={}){let{createSelector:n=ye}=r,a=A=>A.ids,o=A=>A.entities,i=n(a,o,(A,S)=>A.map(f=>S[f])),h=(A,S)=>S,s=(A,S)=>A[S],c=n(a,A=>A.length);if(!t)return{selectIds:a,selectEntities:o,selectAll:i,selectTotal:c,selectById:n(o,h,s)};let y=n(t,o);return{selectIds:n(t,a),selectEntities:y,selectAll:n(t,i),selectTotal:n(t,c),selectById:n(y,h,s)}}return{getSelectors:e}}var _t=v;function et(e){let t=w((r,n)=>e(n));return function(n){return t(n,void 0)}}function w(e){return function(r,n){function a(i){return Ae(i)}let o=i=>{a(n)?e(n.payload,i):e(n,i)};return _t(r)?(o(r),r):F(r,o)}}function O(e,t){return t(e)}function b(e){return Array.isArray(e)||(e=Object.values(e)),e}function $(e){return v(e)?G(e):e}function oe(e,t,r){e=b(e);let n=$(r.ids),a=new Set(n),o=[],i=new Set([]),h=[];for(let s of e){let c=O(s,t);a.has(c)||i.has(c)?h.push({id:c,changes:s}):(i.add(c),o.push(s))}return[o,h,n]}function ie(e){function t(d,l){let u=O(d,e);u in l.entities||(l.ids.push(u),l.entities[u]=d)}function r(d,l){d=b(d);for(let u of d)t(u,l)}function n(d,l){let u=O(d,e);u in l.entities||l.ids.push(u),l.entities[u]=d}function a(d,l){d=b(d);for(let u of d)n(u,l)}function o(d,l){d=b(d),l.ids=[],l.entities={},r(d,l)}function i(d,l){return h([d],l)}function h(d,l){let u=!1;d.forEach(p=>{p in l.entities&&(delete l.entities[p],u=!0)}),u&&(l.ids=l.ids.filter(p=>p in l.entities))}function s(d){Object.assign(d,{ids:[],entities:{}})}function c(d,l,u){let p=u.entities[l.id];if(p===void 0)return!1;let g=Object.assign({},p,l.changes),T=O(g,e),m=T!==l.id;return m&&(d[l.id]=T,delete u.entities[l.id]),u.entities[T]=g,m}function y(d,l){return A([d],l)}function A(d,l){let u={},p={};d.forEach(T=>{T.id in l.entities&&(p[T.id]={id:T.id,changes:{...p[T.id]?.changes,...T.changes}})}),d=Object.values(p),d.length>0&&d.filter(m=>c(u,m,l)).length>0&&(l.ids=Object.values(l.entities).map(m=>O(m,e)))}function S(d,l){return f([d],l)}function f(d,l){let[u,p]=oe(d,e,l);r(u,l),A(p,l)}return{removeAll:et(s),addOne:w(t),addMany:w(r),setOne:w(n),setMany:w(a),setAll:w(o),updateOne:w(y),updateMany:w(A),upsertOne:w(S),upsertMany:w(f),removeOne:w(i),removeMany:w(h)}}function Ut(e,t,r){let n=0,a=e.length;for(;n<a;){let o=n+a>>>1,i=e[o];r(t,i)>=0?n=o+1:a=o}return n}function Wt(e,t,r){let n=Ut(e,t,r);return e.splice(n,0,t),e}function tt(e,t){let{removeOne:r,removeMany:n,removeAll:a}=ie(e);function o(u,p){return i([u],p)}function i(u,p,g){u=b(u);let T=new Set(g??$(p.ids)),m=new Set,k=u.filter(R=>{let x=O(R,e),E=!m.has(x);return E&&m.add(x),!T.has(x)&&E});k.length!==0&&l(p,k)}function h(u,p){return s([u],p)}function s(u,p){let g={};if(u=b(u),u.length!==0){for(let T of u){let m=e(T);g[m]=T,delete p.entities[m]}u=b(g),l(p,u)}}function c(u,p){u=b(u),p.entities={},p.ids=[],i(u,p,[])}function y(u,p){return A([u],p)}function A(u,p){let g=!1,T=!1;for(let m of u){let k=p.entities[m.id];if(!k)continue;g=!0,Object.assign(k,m.changes);let R=e(k);if(m.id!==R){T=!0,delete p.entities[m.id];let x=p.ids.indexOf(m.id);p.ids[x]=R,p.entities[R]=k}}g&&l(p,[],g,T)}function S(u,p){return f([u],p)}function f(u,p){let[g,T,m]=oe(u,e,p);g.length&&i(g,p,m),T.length&&A(T,p)}function d(u,p){if(u.length!==p.length)return!1;for(let g=0;g<u.length;g++)if(u[g]!==p[g])return!1;return!0}let l=(u,p,g,T)=>{let m=$(u.entities),k=$(u.ids),R=u.entities,x=k;T&&(x=new Set(k));let E=[];for(let j of x){let be=m[j];be&&E.push(be)}let z=E.length===0;for(let j of p)R[e(j)]=j,z||Wt(E,j,t);z?E=p.slice().sort(t):g&&E.sort(t);let J=E.map(e);d(k,J)||(u.ids=J)};return{removeOne:r,removeMany:n,removeAll:a,addOne:w(o),updateOne:w(y),upsertOne:w(S),setOne:w(h),setMany:w(s),setAll:w(c),addMany:w(i),updateMany:w(A),upsertMany:w(f)}}function zt(e={}){let{selectId:t,sortComparer:r}={sortComparer:!1,selectId:i=>i.id,...e},n=r?tt(t,r):ie(t),a=Ye(n),o=Ze();return{selectId:t,sortComparer:r,...a,...o,...n}}var Gt="task",nt="listener",rt="completed",xe="cancelled",at=`task-${xe}`,ot=`task-${rt}`,se=`${nt}-${xe}`,it=`${nt}-${rt}`,I=class{constructor(t){this.code=t;this.message=`${Gt} ${xe} (reason: ${t})`}name="TaskAbortError";message};var ce=(e,t)=>{if(typeof e!="function")throw new TypeError(C(32))},U=()=>{},de=(e,t=U)=>(e.catch(t),e),ue=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t));var N=e=>{if(e.aborted)throw new I(e.reason)};function Ce(e,t){let r=U;return new Promise((n,a)=>{let o=()=>a(new I(e.reason));if(e.aborted){o();return}r=ue(e,o),t.finally(()=>r()).then(n,a)}).finally(()=>{r=U})}var st=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof I?"cancelled":"rejected",error:r}}finally{t?.()}},X=e=>t=>de(Ce(e,t).then(r=>(N(e),r))),Ee=e=>{let t=X(e);return r=>t(new Promise(n=>setTimeout(n,r)))};var{assign:W}=Object,ct={},le="listenerMiddleware",Bt=(e,t)=>{let r=n=>ue(e,()=>n.abort(e.reason));return(n,a)=>{ce(n,"taskExecutor");let o=new AbortController;r(o);let i=st(async()=>{N(e),N(o.signal);let h=await n({pause:X(o.signal),delay:Ee(o.signal),signal:o.signal});return N(o.signal),h},()=>o.abort(ot));return a?.autoJoin&&t.push(i.catch(U)),{result:X(e)(i),cancel(){o.abort(at)}}}},Kt=(e,t)=>{let r=async(n,a)=>{N(t);let o=()=>{},h=[new Promise((s,c)=>{let y=e({predicate:n,effect:(A,S)=>{S.unsubscribe(),s([A,S.getState(),S.getOriginalState()])}});o=()=>{y(),c()}})];a!=null&&h.push(new Promise(s=>setTimeout(s,a,null)));try{let s=await Ce(t,Promise.race(h));return N(t),s}finally{o()}};return(n,a)=>de(r(n,a))},lt=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:o}=e;if(t)a=P(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(C(21));return ce(o,"options.listener"),{predicate:a,type:t,effect:o}},pt=W(e=>{let{type:t,predicate:r,effect:n}=lt(e);return{id:D(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(C(22))}}},{withTypes:()=>pt}),dt=(e,t)=>{let{type:r,effect:n,predicate:a}=lt(t);return Array.from(e.values()).find(o=>(typeof r=="string"?o.type===r:o.predicate===a)&&o.effect===n)},Re=e=>{e.pending.forEach(t=>{t.abort(se)})},Ht=(e,t)=>()=>{for(let r of t.keys())Re(r);e.clear()},ut=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},we=W(P(`${le}/add`),{withTypes:()=>we}),ft=P(`${le}/removeAll`),Pe=W(P(`${le}/remove`),{withTypes:()=>Pe}),qt=(...e)=>{console.error(`${le}/error`,...e)},$t=(e={})=>{let t=new Map,r=new Map,n=f=>{let d=r.get(f)??0;r.set(f,d+1)},a=f=>{let d=r.get(f)??1;d===1?r.delete(f):r.set(f,d-1)},{extra:o,onError:i=qt}=e;ce(i,"onError");let h=f=>(f.unsubscribe=()=>t.delete(f.id),t.set(f.id,f),d=>{f.unsubscribe(),d?.cancelActive&&Re(f)}),s=f=>{let d=dt(t,f)??pt(f);return h(d)};W(s,{withTypes:()=>s});let c=f=>{let d=dt(t,f);return d&&(d.unsubscribe(),f.cancelActive&&Re(d)),!!d};W(c,{withTypes:()=>c});let y=async(f,d,l,u)=>{let p=new AbortController,g=Kt(s,p.signal),T=[];try{f.pending.add(p),n(f),await Promise.resolve(f.effect(d,W({},l,{getOriginalState:u,condition:(m,k)=>g(m,k).then(Boolean),take:g,delay:Ee(p.signal),pause:X(p.signal),extra:o,signal:p.signal,fork:Bt(p.signal,T),unsubscribe:f.unsubscribe,subscribe:()=>{t.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((m,k,R)=>{m!==p&&(m.abort(se),R.delete(m))})},cancel:()=>{p.abort(se),f.pending.delete(p)},throwIfCancelled:()=>{N(p.signal)}})))}catch(m){m instanceof I||ut(i,m,{raisedBy:"effect"})}finally{await Promise.all(T),p.abort(it),a(f),f.pending.delete(p)}},A=Ht(t,r);return{middleware:f=>d=>l=>{if(!B(l))return d(l);if(we.match(l))return s(l.payload);if(ft.match(l)){A();return}if(Pe.match(l))return c(l.payload);let u=f.getState(),p=()=>{if(u===ct)throw new Error(C(23));return u},g;try{if(g=d(l),t.size>0){let T=f.getState(),m=Array.from(t.values());for(let k of m){let R=!1;try{R=k.predicate(l,T,u)}catch(x){R=!1,ut(i,x,{raisedBy:"predicate"})}R&&y(k,l,f,p)}}}finally{u=ct}return g},startListening:s,stopListening:c,clearListeners:A}};var Xt=e=>({middleware:e,applied:new Map}),Jt=e=>t=>t?.meta?.instanceId===e,Qt=()=>{let e=D(),t=new Map,r=Object.assign(P("dynamicMiddleware/add",(...h)=>({payload:h,meta:{instanceId:e}})),{withTypes:()=>r}),n=Object.assign(function(...s){s.forEach(c=>{M(t,c,Xt)})},{withTypes:()=>n}),a=h=>{let s=Array.from(t.values()).map(c=>M(c.applied,h,c.middleware));return V(...s)},o=K(r,Jt(e));return{middleware:h=>s=>c=>o(c)?(n(...c.payload),h.dispatch):a(h)(s)(c),addMiddleware:n,withMiddleware:r,instanceId:e}};import{combineReducers as Yt}from"redux";var Zt=e=>"reducerPath"in e&&typeof e.reducerPath=="string",en=e=>e.flatMap(t=>Zt(t)?[[t.reducerPath,t.reducer]]:Object.entries(t)),Me=Symbol.for("rtk-state-proxy-original"),tn=e=>!!e&&!!e[Me],nn=new WeakMap,rn=(e,t,r)=>M(nn,e,()=>new Proxy(e,{get:(n,a,o)=>{if(a===Me)return n;let i=Reflect.get(n,a,o);if(typeof i>"u"){let h=r[a];if(typeof h<"u")return h;let s=t[a];if(s){let c=s(void 0,{type:D()});if(typeof c>"u")throw new Error(C(24));return r[a]=c,c}}return i}})),an=e=>{if(!tn(e))throw new Error(C(25));return e[Me]},on={},sn=(e=on)=>e;function cn(...e){let t=Object.fromEntries(en(e)),r=()=>Object.keys(t).length?Yt(t):sn,n=r();function a(s,c){return n(s,c)}a.withLazyLoadedSlices=()=>a;let o={},i=(s,c={})=>{let{reducerPath:y,reducer:A}=s,S=t[y];return!c.overrideExisting&&S&&S!==A||(c.overrideExisting&&S!==A&&delete o[y],t[y]=A,n=r()),a},h=Object.assign(function(c,y){return function(S,...f){return c(rn(y?y(S,...f):S,t,o),...f)}},{original:an});return Object.assign(a,{inject:i,selector:h})}function C(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}export{Je as ReducerType,me as SHOULD_AUTOBATCH,I as TaskAbortError,L as Tuple,we as addListener,bt as asyncThunkCreator,Se as autoBatchEnhancer,Qe as buildCreateSlice,ft as clearAllListeners,cn as combineSlices,Et as configureStore,P as createAction,At as createActionCreatorInvariantMiddleware,ge as createAsyncThunk,ye as createDraftSafeSelector,Ie as createDraftSafeSelectorCreator,Qt as createDynamicMiddleware,zt as createEntityAdapter,mt as createImmutableStateInvariantMiddleware,$t as createListenerMiddleware,F as createNextState,ke as createReducer,Ia as createSelector,pe as createSelectorCreator,St as createSerializableStateInvariantMiddleware,Dt as createSlice,G as current,Fe as findNonSerializableValue,C as formatProdErrorMessage,wa as freeze,he as isActionCreator,K as isAllOf,_ as isAnyOf,Ke as isAsyncThunkAction,v as isDraft,Ae as isFluxStandardAction,Be as isFulfilled,Tt as isImmutableDefault,ze as isPending,je as isPlain,te as isRejected,Ge as isRejectedWithValue,va as lruMemoize,qe as miniSerializeError,D as nanoid,Pa as original,Ct as prepareAutoBatched,Pe as removeListener,$e as unwrapResult,fe as weakMapMemoize};
//# sourceMappingURL=redux-toolkit.browser.mjs.map