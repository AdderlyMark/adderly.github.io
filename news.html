<!DOCTYPE html>
<html lang="ru">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-68MY39SKZ9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-68MY39SKZ9');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="icons/favicon.ico" type="image/x-icon">
    <title>Новости Аддерли</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        function checkWidth() {
            const header = document.querySelector('header');

            if (window.innerWidth < 980) {
                header.style.display = 'none';
            } else {
                header.style.display = 'block';
            }
        }

        function loadNews() {
            const newsFiles = [
                'txts/news1.txt',
                'txts/news2.txt',
                'txts/news3.txt',
                'txts/news4.txt',
                'txts/news5.txt',
                'txts/news6.txt',
                'txts/news7.txt',
                'txts/news8.txt',
                'txts/news9.txt',
                'txts/news10.txt',
                'txts/news11.txt',
                'txts/news12.txt',
                'txts/news13.txt',
                'txts/news14.txt',
                'txts/news15.txt',
                'txts/news16.txt',
                'txts/news17.txt',
                'txts/news18.txt',
                'txts/news19.txt',
                'txts/news20.txt',
            ];

            const fetchNewsFile = (file) =>
                fetch(file)
                    .then(response => {
                        if (!response.ok) {
                            throw new Error('эту ошибку вообще реально получить? XD');
                        }
                        return response.text();
                    })
                    .catch(error => {
                        console.warn(`Не удалось загрузить ${file}: ${error.message}`);
                        return '';
                    });

            Promise.all(newsFiles.map(fetchNewsFile))
                .then(newsContents => {
                    const newsContainer = document.getElementById('news-container');
                    newsContainer.innerHTML = '';

                    newsContents.forEach(content => {
                        if (content.trim() === '') return;

                        const lines = content.split('\n');
                        const title = lines[0];
                        const body = lines.slice(1).join('\n');

                        const newsItem = document.createElement('div');
                        newsItem.classList.add('news-item');

                        const newsTitle = document.createElement('h2');
                        newsTitle.textContent = title;

                        const newsContent = document.createElement('p');
                        newsContent.textContent = body;

                        newsItem.appendChild(newsTitle);
                        newsItem.appendChild(newsContent);

                        newsContainer.appendChild(newsItem);
                    });
                })
                .catch(error => {
                    console.error('Ошибка при загрузке новостей', error);
                    document.getElementById('news-container').textContent = 'Не удалось загрузить новости';
                });
        }

        window.addEventListener('resize', checkWidth);
        document.addEventListener("DOMContentLoaded", () => {
            checkWidth();
            loadNews();
        });
    </script>
</head>
<body>
<header>
    <nav>
        <ul class="first-row">
            <li><a href="index.html" class="nav-button">Главная</a></li>
            <li><a href="bio.html" class="nav-button">Обо мне</a></li>
            <li><a href="news.html" class="nav-button">Новости</a></li>
            <li><a href="soft.html" class="nav-button">Софт от Аддерли</a></li>
            <li><a href="builds.html" class="nav-button">Сборки от Аддерли</a></li>
            <li><a href="windows_pe.html" class="nav-button">Windows PE от Аддерли</a></li>
        </ul>
        <ul class="second-row">
            <li><a href="old_versions.html" class="nav-button">Старые версии Windows</a></li>
            <li><a href="keys.html" class="nav-button">Ключи от Аддерли</a></li>
            <li><a href="donators.html" class="nav-button">Донатеры</a></li>
            <li><a href="windowsinsider.html" class="nav-button">Windows 11 Insider</a></li>
            <li><a href="support.html" class="nav-button">Поддержать</a></li>
        </ul>
    </nav>
</header>

<main>
    <section style="max-width: 800px; margin: 0 auto; padding: 00px; text-align: justify;">
        <h1 style="text-align: center;">Новости Аддерли</h1>
        <div id="news-container"></div>
    </section>
</main>

<footer>
    <a href="https://t.me/adderly324" class="social-link" target="_blank" rel="noopener noreferrer">
        <img src="icons/tg.png" alt="Telegram Icon" class="social-icon">
        Telegram канал
    </a>
    <a href="https://youtube.com/@MakuAdarii" class="social-link" target="_blank" rel="noopener noreferrer">
        <img src="icons/yt.png" alt="YouTube Icon" class="social-icon">
        YouTube канал
    </a>
    <a href="https://www.donationalerts.com/r/yuzurutentacion" class="social-link" target="_blank" rel="noopener noreferrer">
        <img src="icons/da.png" alt="DonationAlerts Icon" class="social-icon">
        DonationAlerts
    </a>
    <a href="https://new.donatepay.ru/@madderly" class="social-link" target="_blank" rel="noopener noreferrer">
        <img src="icons/dp.png" alt="DonatePay Icon" class="social-icon">
        DonatePay
    </a>
    <a href="https://donatello.to/adarii" class="social-link" target="_blank" rel="noopener noreferrer">
        <img src="icons/dot.png" alt="Donatello Icon" class="social-icon">
        Donatello
    </a>
    <p>&copy; 2024 Adderly.Fun. Все права украдены XD</p>
</footer>
</body>
</html>
